<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>chgres_cube: utilities Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">chgres_cube
   &#160;<span id="projectnumber">1.12.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classutilities.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">utilities Module Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a87bd260adf1a2dbe0f7854a51fdc76fb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#a87bd260adf1a2dbe0f7854a51fdc76fb">check_cnwat</a> (cnwat, i_input, j_input)</td></tr>
<tr class="memdesc:a87bd260adf1a2dbe0f7854a51fdc76fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">When using GEFS data, some points on the target grid have unreasonable canpy moisture content, so zero out any locations with unrealistic canopy moisture values (&gt;0.5).  <a href="#a87bd260adf1a2dbe0f7854a51fdc76fb">More...</a><br/></td></tr>
<tr class="separator:a87bd260adf1a2dbe0f7854a51fdc76fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1086b84163bee323fd34e6dda323cd7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#ae1086b84163bee323fd34e6dda323cd7">check_soilt</a> (soilt, landmask, skint, ICET_DEFAULT, i_input, j_input, lsoil_input)</td></tr>
<tr class="memdesc:ae1086b84163bee323fd34e6dda323cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for and replace certain values in soil temperature.  <a href="#ae1086b84163bee323fd34e6dda323cd7">More...</a><br/></td></tr>
<tr class="separator:ae1086b84163bee323fd34e6dda323cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3232d0396b5645ca13f80152a7d160"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#a8e3232d0396b5645ca13f80152a7d160">dint2p</a> (PPIN, XXIN, NPIN, PPOUT, XXOUT, NPOUT, LINLOG, XMSG, IER)</td></tr>
<tr class="memdesc:a8e3232d0396b5645ca13f80152a7d160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pressure to presure vertical interpolation for tracers with linear or lnP interpolation.  <a href="#a8e3232d0396b5645ca13f80152a7d160">More...</a><br/></td></tr>
<tr class="separator:a8e3232d0396b5645ca13f80152a7d160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880983c1fd6c2efccdca6191fce95d31"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#a880983c1fd6c2efccdca6191fce95d31">error_handler</a> (string, rc)</td></tr>
<tr class="memdesc:a880983c1fd6c2efccdca6191fce95d31"><td class="mdescLeft">&#160;</td><td class="mdescRight">General error handler.  <a href="#a880983c1fd6c2efccdca6191fce95d31">More...</a><br/></td></tr>
<tr class="separator:a880983c1fd6c2efccdca6191fce95d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5a05b2f04a8f449d7fd380ec3e1e8e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#abe5a05b2f04a8f449d7fd380ec3e1e8e">handle_grib_error</a> (vname, lev, method, value, varnum, read_from_input, iret, var, var8, var3d)</td></tr>
<tr class="memdesc:abe5a05b2f04a8f449d7fd380ec3e1e8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle GRIB2 read error based on the user selected method in the varmap file.  <a href="#abe5a05b2f04a8f449d7fd380ec3e1e8e">More...</a><br/></td></tr>
<tr class="separator:abe5a05b2f04a8f449d7fd380ec3e1e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de511c01f6bde6e69343d11aca654c9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#a7de511c01f6bde6e69343d11aca654c9">netcdf_err</a> (err, string)</td></tr>
<tr class="memdesc:a7de511c01f6bde6e69343d11aca654c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error handler for netcdf.  <a href="#a7de511c01f6bde6e69343d11aca654c9">More...</a><br/></td></tr>
<tr class="separator:a7de511c01f6bde6e69343d11aca654c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3f015cc68280f8c0f524b797b56842"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#a3b3f015cc68280f8c0f524b797b56842">quicksort</a> (a, first, last)</td></tr>
<tr class="memdesc:a3b3f015cc68280f8c0f524b797b56842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort an array of values.  <a href="#a3b3f015cc68280f8c0f524b797b56842">More...</a><br/></td></tr>
<tr class="separator:a3b3f015cc68280f8c0f524b797b56842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6f35583bd6c103031a9328be4c7b6a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#a8a6f35583bd6c103031a9328be4c7b6a">to_lower</a> (strIn)</td></tr>
<tr class="memdesc:a8a6f35583bd6c103031a9328be4c7b6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert from upper to lowercase.  <a href="#a8a6f35583bd6c103031a9328be4c7b6a">More...</a><br/></td></tr>
<tr class="separator:a8a6f35583bd6c103031a9328be4c7b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae164531a53081bf0e1bc30579c8ba1b1"><td class="memItemLeft" align="right" valign="top">character(len=len(strin)) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutilities.html#ae164531a53081bf0e1bc30579c8ba1b1">to_upper</a> (strIn)</td></tr>
<tr class="memdesc:ae164531a53081bf0e1bc30579c8ba1b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert string from lower to uppercase.  <a href="#ae164531a53081bf0e1bc30579c8ba1b1">More...</a><br/></td></tr>
<tr class="separator:ae164531a53081bf0e1bc30579c8ba1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="utils_8F90_source.html#l00001">1</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a class="anchor" id="a87bd260adf1a2dbe0f7854a51fdc76fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::check_cnwat </td>
          <td>(</td>
          <td class="paramtype">real(esmf_kind_r8), dimension(i_input,j_input), intent(inout)&#160;</td>
          <td class="paramname"><em>cnwat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>j_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When using GEFS data, some points on the target grid have unreasonable canpy moisture content, so zero out any locations with unrealistic canopy moisture values (&gt;0.5). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnwat</td><td>[input] 2-dimensional canopy moisture content </td></tr>
    <tr><td class="paramname">i_input</td><td>[in] i-dimension of input grid </td></tr>
    <tr><td class="paramname">j_input</td><td>[in] j-dimension of input grid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Larissa Reames CIMMS/NSSL </dd></dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00264">264</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1086b84163bee323fd34e6dda323cd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::check_soilt </td>
          <td>(</td>
          <td class="paramtype">real(esmf_kind_r8), dimension(i_input,j_input,lsoil_input), intent(inout)&#160;</td>
          <td class="paramname"><em>soilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(esmf_kind_i4), dimension(i_input,j_input), intent(in)&#160;</td>
          <td class="paramname"><em>landmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(i_input,j_input), intent(in)&#160;</td>
          <td class="paramname"><em>skint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>ICET_DEFAULT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>j_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lsoil_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for and replace certain values in soil temperature. </p>
<p>At open water points (landmask=0) use skin temperature as a filler value. At land points (landmask=1) with excessive soil temperature, replace soil temperature with skin temperature. In GEFSv12.0 data there are some erroneous missing values at land points which this corrects. At sea ice points (landmask=2), store a default ice column temperature because grib2 files do not have ice column temperature which FV3 expects at these points.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">soilt</td><td>[inout] 3-dimensional soil temperature arrray </td></tr>
    <tr><td class="paramname">landmask</td><td>[in] landmask of the input grid </td></tr>
    <tr><td class="paramname">skint</td><td>[in] 2-dimensional skin temperature array </td></tr>
    <tr><td class="paramname">ICET_DEFAULT</td><td>[in] Default temperature to apply at ice points </td></tr>
    <tr><td class="paramname">i_input</td><td>[in] i-dimension of input grid </td></tr>
    <tr><td class="paramname">j_input</td><td>[in] j-dimension of input grid </td></tr>
    <tr><td class="paramname">lsoil_input</td><td>[in] soil layers dimension of input grid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Larissa Reames CIMMS/NSSL </dd></dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00229">229</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e3232d0396b5645ca13f80152a7d160"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::dint2p </td>
          <td>(</td>
          <td class="paramtype">real*8, dimension(npin)&#160;</td>
          <td class="paramname"><em>PPIN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(npin)&#160;</td>
          <td class="paramname"><em>XXIN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>NPIN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(npout)&#160;</td>
          <td class="paramname"><em>PPOUT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(npout)&#160;</td>
          <td class="paramname"><em>XXOUT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>NPOUT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>LINLOG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8&#160;</td>
          <td class="paramname"><em>XMSG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>IER</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pressure to presure vertical interpolation for tracers with linear or lnP interpolation. </p>
<p>Input tracers on pres levels are interpolated to the target output pressure levels. The matching levels of input and output will keep the same. Extrapolation is also allowed but needs caution. The routine is mostly for GFSV16 combined grib2 input when spfh has missing levels in low and mid troposphere from U/T/HGT/DZDT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppin</td><td>1d input pres levs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xxin</td><td>1d input tracer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npin</td><td>number of input levs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ppout</td><td>1d target pres levs </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">xxout</td><td>1d interpolated tracer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npout</td><td>number of target levs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linlog</td><td>interp method.1:linear;not 1:log;neg:extrp allowed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmsg</td><td>fill values of missing levels (-999.0) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ier</td><td>error status. non 0: failed interpolation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Jili Dong NCEP/EMC </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2021/07/30 </dd></dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00299">299</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="atm__input__data_8F90_source.html#l01970">atm_input_data::read_input_atm_grib2_file()</a>.</p>

</div>
</div>
<a class="anchor" id="a880983c1fd6c2efccdca6191fce95d31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::error_handler </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General error handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>error message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rc</td><td>error status code </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00012">12</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="surface_8F90_source.html#l02027">surface::adjust_soil_levels()</a>, <a class="el" href="surface_8F90_source.html#l01951">surface::adjust_soilt_for_terrain()</a>, <a class="el" href="atmosphere_8F90_source.html#l00118">atmosphere::atmosphere_driver()</a>, <a class="el" href="surface_8F90_source.html#l01501">surface::calc_liq_soil_moisture()</a>, <a class="el" href="chgres_8F90_source.html#l00024">chgres()</a>, <a class="el" href="atmosphere_8F90_source.html#l02268">atmosphere::compute_zh()</a>, <a class="el" href="atmosphere_8F90_source.html#l00779">atmosphere::convert_winds_to_uv()</a>, <a class="el" href="atm__input__data_8F90_source.html#l03112">atm_input_data::convert_winds_to_xyz()</a>, <a class="el" href="atmosphere_8F90_source.html#l00494">atmosphere::create_atm_b4adj_esmf_fields()</a>, <a class="el" href="atmosphere_8F90_source.html#l00586">atmosphere::create_atm_esmf_fields()</a>, <a class="el" href="surface_8F90_source.html#l02973">surface::create_nst_esmf_fields()</a>, <a class="el" href="static__data_8F90_source.html#l00398">static_data::create_static_fields()</a>, <a class="el" href="surface_8F90_source.html#l02615">surface::create_surface_esmf_fields()</a>, <a class="el" href="model__grid_8F90_source.html#l00147">model_grid::define_input_grid_gaussian()</a>, <a class="el" href="model__grid_8F90_source.html#l00614">model_grid::define_input_grid_grib2()</a>, <a class="el" href="model__grid_8F90_source.html#l00401">model_grid::define_input_grid_mosaic()</a>, <a class="el" href="model__grid_8F90_source.html#l00887">model_grid::define_target_grid()</a>, <a class="el" href="model__grid_8F90_source.html#l01448">model_grid::gdt_to_gds()</a>, <a class="el" href="model__grid_8F90_source.html#l01175">model_grid::get_model_latlons()</a>, <a class="el" href="model__grid_8F90_source.html#l01326">model_grid::get_model_mask_terrain()</a>, <a class="el" href="static__data_8F90_source.html#l00049">static_data::get_static_fields()</a>, <a class="el" href="utils_8F90_source.html#l00120">handle_grib_error()</a>, <a class="el" href="atmosphere_8F90_source.html#l01291">atmosphere::horiz_interp_thomp_mp_climo()</a>, <a class="el" href="atm__input__data_8F90_source.html#l00147">atm_input_data::init_atm_esmf_fields()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l02946">sfc_input_data::init_sfc_esmf_fields()</a>, <a class="el" href="surface_8F90_source.html#l00248">surface::interp()</a>, <a class="el" href="atmosphere_8F90_source.html#l00948">atmosphere::newpr1()</a>, <a class="el" href="atmosphere_8F90_source.html#l01059">atmosphere::newps()</a>, <a class="el" href="surface_8F90_source.html#l02532">surface::nst_land_fill()</a>, <a class="el" href="surface_8F90_source.html#l02197">surface::qc_check()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l03205">sfc_input_data::read_grib_soil()</a>, <a class="el" href="atm__input__data_8F90_source.html#l00753">atm_input_data::read_input_atm_gaussian_nemsio_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01295">atm_input_data::read_input_atm_gaussian_netcdf_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l00500">atm_input_data::read_input_atm_gfs_gaussian_nemsio_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l00261">atm_input_data::read_input_atm_gfs_sigio_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01970">atm_input_data::read_input_atm_grib2_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01036">atm_input_data::read_input_atm_restart_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01679">atm_input_data::read_input_atm_tiled_history_file()</a>, <a class="el" href="nst__input__data_8F90_source.html#l00067">nst_input_data::read_input_nst_data()</a>, <a class="el" href="nst__input__data_8F90_source.html#l00514">nst_input_data::read_input_nst_nemsio_file()</a>, <a class="el" href="nst__input__data_8F90_source.html#l00230">nst_input_data::read_input_nst_netcdf_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l00736">sfc_input_data::read_input_sfc_gaussian_nemsio_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l00387">sfc_input_data::read_input_sfc_gfs_gaussian_nemsio_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l00163">sfc_input_data::read_input_sfc_gfs_sfcio_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01402">sfc_input_data::read_input_sfc_netcdf_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01085">sfc_input_data::read_input_sfc_restart_file()</a>, <a class="el" href="program__setup_8F90_source.html#l00153">program_setup::read_setup_namelist()</a>, <a class="el" href="thompson__mp__climo__data_8F90_source.html#l00050">thompson_mp_climo_data::read_thomp_mp_climo_data()</a>, <a class="el" href="program__setup_8F90_source.html#l00375">program_setup::read_varmap()</a>, <a class="el" href="atmosphere_8F90_source.html#l01256">atmosphere::read_vcoord_info()</a>, <a class="el" href="atm__input__data_8F90_source.html#l02937">atm_input_data::read_winds()</a>, <a class="el" href="surface_8F90_source.html#l03170">surface::regrid_many()</a>, <a class="el" href="surface_8F90_source.html#l01783">surface::rescale_soil_moisture()</a>, <a class="el" href="surface_8F90_source.html#l02143">surface::roughness()</a>, <a class="el" href="surface_8F90_source.html#l03315">surface::search_many()</a>, <a class="el" href="surface_8F90_source.html#l00107">surface::surface_driver()</a>, <a class="el" href="atmosphere_8F90_source.html#l01763">atmosphere::vintg()</a>, <a class="el" href="atmosphere_8F90_source.html#l01403">atmosphere::vintg_thomp_mp_climo()</a>, <a class="el" href="atmosphere_8F90_source.html#l01527">atmosphere::vintg_wam()</a>, <a class="el" href="write__data_8F90_source.html#l00099">write_data::write_fv3_atm_bndy_data_netcdf()</a>, <a class="el" href="write__data_8F90_source.html#l01197">write_data::write_fv3_atm_data_netcdf()</a>, and <a class="el" href="write__data_8F90_source.html#l01802">write_data::write_fv3_sfc_data_netcdf()</a>.</p>

</div>
</div>
<a class="anchor" id="abe5a05b2f04a8f449d7fd380ec3e1e8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::handle_grib_error </td>
          <td>(</td>
          <td class="paramtype">character(len=20), intent(in)&#160;</td>
          <td class="paramname"><em>vname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=20), intent(in)&#160;</td>
          <td class="paramname"><em>lev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=20), intent(in)&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r4), intent(in)&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>varnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(:), intent(inout)&#160;</td>
          <td class="paramname"><em>read_from_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r4), dimension(:,:), intent(inout), optional&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(:,:), intent(inout), optional&#160;</td>
          <td class="paramname"><em>var8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(:,:,:), intent(inout), optional&#160;</td>
          <td class="paramname"><em>var3d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle GRIB2 read error based on the user selected method in the varmap file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vname</td><td>grib2 variable name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lev</td><td>grib2 variable level </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>how missing data is handled </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>fill value for missing data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">varnum</td><td>grib2 variable number </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iret</td><td>return status code </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">var</td><td>4-byte array of corrected data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">var8</td><td>8-byte array of corrected data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">var3d</td><td>3-d array of corrected data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">read_from_input</td><td>logical array indicating if variable was read in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Larissa Reames </dd></dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00120">120</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>References <a class="el" href="utils_8F90_source.html#l00012">error_handler()</a>.</p>

<p>Referenced by <a class="el" href="sfc__input__data_8F90_source.html#l03205">sfc_input_data::read_grib_soil()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01970">atm_input_data::read_input_atm_grib2_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>, and <a class="el" href="atm__input__data_8F90_source.html#l02937">atm_input_data::read_winds()</a>.</p>

</div>
</div>
<a class="anchor" id="a7de511c01f6bde6e69343d11aca654c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::netcdf_err </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error handler for netcdf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>error status code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>error message </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00034">34</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="model__grid_8F90_source.html#l00147">model_grid::define_input_grid_gaussian()</a>, <a class="el" href="model__grid_8F90_source.html#l00401">model_grid::define_input_grid_mosaic()</a>, <a class="el" href="model__grid_8F90_source.html#l00887">model_grid::define_target_grid()</a>, <a class="el" href="model__grid_8F90_source.html#l01175">model_grid::get_model_latlons()</a>, <a class="el" href="model__grid_8F90_source.html#l01326">model_grid::get_model_mask_terrain()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l03159">sfc_input_data::read_fv3_grid_data_netcdf()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01295">atm_input_data::read_input_atm_gaussian_netcdf_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01036">atm_input_data::read_input_atm_restart_file()</a>, <a class="el" href="atm__input__data_8F90_source.html#l01679">atm_input_data::read_input_atm_tiled_history_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01402">sfc_input_data::read_input_sfc_netcdf_file()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01085">sfc_input_data::read_input_sfc_restart_file()</a>, <a class="el" href="static__data_8F90_source.html#l00261">static_data::read_static_file()</a>, <a class="el" href="thompson__mp__climo__data_8F90_source.html#l00050">thompson_mp_climo_data::read_thomp_mp_climo_data()</a>, <a class="el" href="write__data_8F90_source.html#l00099">write_data::write_fv3_atm_bndy_data_netcdf()</a>, <a class="el" href="write__data_8F90_source.html#l01197">write_data::write_fv3_atm_data_netcdf()</a>, <a class="el" href="write__data_8F90_source.html#l00028">write_data::write_fv3_atm_header_netcdf()</a>, and <a class="el" href="write__data_8F90_source.html#l01802">write_data::write_fv3_sfc_data_netcdf()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b3f015cc68280f8c0f524b797b56842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine utilities::quicksort </td>
          <td>(</td>
          <td class="paramtype">real*8, dimension(*)&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort an array of values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>the sorted array </td></tr>
    <tr><td class="paramname">first</td><td>the first value of sorted array </td></tr>
    <tr><td class="paramname">last</td><td>the last value of sorted array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Jili Dong NOAA/EMC </dd></dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00186">186</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="atm__input__data_8F90_source.html#l01970">atm_input_data::read_input_atm_grib2_file()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a6f35583bd6c103031a9328be4c7b6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine utilities::to_lower </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(inout)&#160;</td>
          <td class="paramname"><em>strIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert from upper to lowercase. </p>
<dl class="section author"><dt>Author</dt><dd>Clive Page</dd></dl>
<p>Adapted from <a href="http://www.star.le.ac.uk/~cgp/fortran.html">http://www.star.le.ac.uk/~cgp/fortran.html</a> (25 May 2012)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">strIn</td><td>string to convert </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00087">87</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="program__setup_8F90_source.html#l00153">program_setup::read_setup_namelist()</a>.</p>

</div>
</div>
<a class="anchor" id="ae164531a53081bf0e1bc30579c8ba1b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">character(len=len(strin)) function utilities::to_upper </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>strIn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert string from lower to uppercase. </p>
<dl class="section author"><dt>Author</dt><dd>Clive Page</dd></dl>
<p>Adapted from <a href="http://www.star.le.ac.uk/~cgp/fortran.html">http://www.star.le.ac.uk/~cgp/fortran.html</a> (25 May 2012)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strIn</td><td>string to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>strOut string in uppercase </dd></dl>

<p>Definition at line <a class="el" href="utils_8F90_source.html#l00062">62</a> of file <a class="el" href="utils_8F90_source.html">utils.F90</a>.</p>

<p>Referenced by <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>.</p>

</div>
</div>
<hr/>The documentation for this module was generated from the following file:<ul>
<li>/scratch1/NCEPDEV/da/George.Gayno/ufs_utils.git/UFS_UTILS.upstream/sorc/chgres_cube.fd/<a class="el" href="utils_8F90_source.html">utils.F90</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classutilities.html">utilities</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
